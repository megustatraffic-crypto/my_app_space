<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Cosmic Farm</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="app">
    <header class="top">
      <div class="left">
        <img id="logo" src="ui/logo_cosmic_farm.jpg" alt="logo" />
      </div>
      <div class="center">
        <div id="playerName">Guest</div>
        <div id="playerStats">Frags: 0 Â· Lvl 1 Â· Drones: 0</div>
      </div>
      <div class="right">
        <img id="starIcon" src="currency/currency_star.jpg" alt="stars" class="icon-small"/>
        <span id="starsCount">0</span>
      </div>
    </header>

    <main>
      <div id="farmWrap">
        <div id="house" class="house"></div>
        <div id="farm" class="farm"></div>
        <canvas id="droneCanvas"></canvas>
        <div id="vfxLayer" class="vfx-layer"></div>
      </div>

      <p class="hint">Tap tile to plant Â· Tap grown crop to harvest</p>
    </main>

    <!-- Panels -->
    <div class="panel" id="panelShop" hidden>
      <h2>ğŸª Shop</h2>
      <div class="card">
        <b>Buy Drone (starts cheap, next Ã—2)</b>
        <p>Auto-collects ready crops</p>
        <button id="buy-drone" class="buyBtn">Buy Drone</button>
      </div>
      <div class="card">
        <b>Expand Farm</b>
        <p>Increase farm grid size</p>
        <button id="buy-farm" class="buyBtn">Expand</button>
      </div>
      <div class="card">
        <b>Stars Packs</b>
        <p>Test mode: add Stars manually</p>
        <button id="add-stars" class="buyBtn">+5 Stars (test)</button>
      </div>
      <button class="close" onclick="closePanels()">Close</button>
    </div>

    <div class="panel" id="panelDrones" hidden>
      <h2>ğŸ¤– Drones</h2>
      <div id="droneList"></div>
      <button class="close" onclick="closePanels()">Close</button>
    </div>

    <div class="panel" id="panelQuests" hidden>
      <h2>ğŸ“œ Quests</h2>
      <div id="questsList"></div>
      <button class="close" onclick="closePanels()">Close</button>
    </div>

    <div class="panel" id="panelProfile" hidden>
      <h2>ğŸ‘¤ Profile</h2>
      <div class="card">
        <label>Name</label>
        <input id="nameInput" placeholder="Player name" />
        <button class="buyBtn" id="saveName">Save</button>
      </div>
      <div class="card">
        <label>Avatar URL (mobile: upload somewhere then paste)</label>
        <input id="avatarUrl" placeholder="https://..." />
        <button class="buyBtn" id="saveAvatar">Save Avatar</button>
      </div>
      <button class="close" onclick="closePanels()">Close</button>
    </div>

    <!-- Bottom Menu -->
    <nav class="menu">
      <button onclick="openPanel('panelShop')"><img src="ui/btn_shop.jpg" alt="shop"/></button>
      <button onclick="openPanel('panelDrones')"><img src="ui/btn_drones.jpg" alt="drones"/></button>
      <button onclick="openPanel('panelQuests')"><img src="ui/btn_cases.jpg" alt="cases"/></button>
      <button onclick="openPanel('panelProfile')"><img src="ui/btn_profile.jpg" alt="profile"/></button>
      <button onclick="openFarm()"><img src="ui/btn_farm.jpg" alt="farm"/></button>
    </nav>
  </div>

  <script type="module" src="app.js"></script>
</body>
</html>
